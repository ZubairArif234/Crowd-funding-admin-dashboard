(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{394:function(t,e,i){"use strict";i.r(e);var r=i(5),o=i(2),l=i.n(o),n=i(105),s=i(120),d=i(0),c=i(7),u=i(480),p=i(8),h=i(409),a=i(22),m=i(14),v=i(3),f=(d.e.Pickr=n,function(){function o(){}return o.init=function(t){var e;o.isAvailableResourceType()&&(null!=(e=document.getElementById("section-color-palette"))&&e.classList.remove("hidden"),this.colorPaletteButton=document.getElementById("color-palette"),this.savePaletteButton=document.getElementById("save-palette"),this.cancelEditionButton=document.getElementById("cancel-edition"),this.editPaletteInputButton=document.getElementById("edit-palette"),this.paletteEditColorPickerButton=document.querySelector("#palette-edit-color-picker button"),t?(this.getUserColorpalette(),this.colorPaletteButton.addEventListener("click",o.open),m.a.callModalRemovePalette(),o.handleListeners()):this.notPremiumUser())},o.isAvailableResourceType=function(){return!!d.e.FeatureFlag.isEnabled("regular_editor_to_uicons")||[a.b.standard,a.b.icon].includes(d.e.Resource.resource.type)},o.getUserColorpalette=function(){var e=this,t=APP_URL+"ajax/user-palette";Object(p.a)(t).then(function(t){0!=t.success&&(e.palettes=t.data.palettes[0],e.drawSwatches()),e.palettes.colors.length>e.limitColorsIndex?null!=(t=e.paletteEditColorPickerButton)&&t.classList.add("disabled"):null!=(t=e.paletteEditColorPickerButton)&&t.classList.remove("disabled")}).catch(function(t){throw t})},o.handleListeners=function(){var t,e=this;null!=(t=this.editPaletteInputButton)&&t.addEventListener("change",function(){var t;null!=(t=e.editPaletteInputButton)&&t.checked&&(e.isOnEdition=!0,e.showDeleteSwatchesButtons(),e.showSaveButton(),e.showCancelButton())}),null!=(t=this.savePaletteButton)&&t.addEventListener("click",function(){e.savePalette()}),null!=(t=this.cancelEditionButton)&&t.addEventListener("click",function(){e.cancelEdition()}),window.addEventListener("modal-loaded-modal-remove-palette",function(){var t;null!=(t=document.querySelector("#modal-remove-palette button.remove-palette"))&&t.addEventListener("click",function(){e.removePalette()}),null!=(t=document.querySelector("#modal-remove-palette button.no-thanks-palette"))&&t.addEventListener("click",function(){e.noThanks()})})},o.open=function(){o.pickrPalette||null!=(t=this.paletteEditColorPickerButton)&&t.classList.contains("disabled")||(c.a.send("ga","event","editor","add-custom-color","premium"),o.pickrPalette=d.e.Pickr.create({el:"#palette-edit-color-picker",container:".color-palette-wrapper",showAlways:!1,inline:!1,comparison:!1,useAsButton:!0,defaultRepresentation:"HEX",default:"#3A7C78",swatches:[],components:{preview:!1,opacity:!1,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!1}}}),(t=document.createElement("button")).id="save-button-palette",t.className="bj-button bj-button--sm font-sm bj-button--primary bj-button--green mg-none mg-top-lv2-i",t.innerText=messages.colorPalette.save,null!=(e=document.querySelector(".color-palette-wrapper .pcr-app"))&&e.appendChild(t),null!=(e=document.querySelector(".color-palette-wrapper .pcr-result"))&&e.setAttribute("maxlength","7"),null!=(t=document.getElementById("save-button-palette"))&&t.addEventListener("click",function(){o.saveColorToPalette()}));var t,e=document.querySelector(".color-palette-wrapper .pcr-app");e&&(e.style.display="flex")},o.saveColorToPalette=function(){var t,e=document.querySelector(".color-palette-wrapper .pcr-interaction .pcr-result");this.palettes.colors.length>this.limitColorsIndex?(null!=(t=this.paletteEditColorPickerButton)&&t.classList.add("disabled","tooltip__trigger","tooltip__trigger--always"),v.a.alert("notification-search",messages.colorPalette.exceeded,"warning","bottom-left",4500),(t=document.querySelector(".color-palette-wrapper .pcr-app"))&&(t.style.display="none")):-1===this.palettes.colors.indexOf(e.value)?(this.palettes.colors.push(e.value),this.palettes.colors.length>this.limitColorsIndex&&null!=(t=this.paletteEditColorPickerButton)&&t.classList.add("disabled","tooltip__trigger","tooltip__trigger--always"),this.sendDataColorPalette()):v.a.alert("notification-search",messages.colorPalette.alredyExist,"warning","bottom-left",4500),this.drawSwatches()},o.drawSwatches=function(){var t,n=this,r=(document.querySelectorAll(".swatch").forEach(function(t){return t.remove()}),this.isOnEdition?"":"hidden");this.palettes.colors.length>this.limitColorsIndex?null!=(t=this.paletteEditColorPickerButton)&&t.classList.add("disabled","tooltip__trigger","tooltip__trigger--always"):null!=(t=this.paletteEditColorPickerButton)&&t.classList.remove("disabled","tooltip__trigger","tooltip__trigger--always"),0<this.palettes.colors.length&&(this.palettes.colors.forEach(function(t,e){var o=document.createElement("li"),t=(o.className="swatch mg-right-lv2 mg-bottom-lv2",o.innerHTML='<span class="color" style="background-color: '+t+';" title="'+t+'"><i class="icon icon--cross-small '+r+'" data-value="'+t+'"></i></span>',o.dataset.value=t,null!=(t=document.querySelector("ul.swatches"))&&t.appendChild(o),o.querySelector("span.color"));t&&n.handleSwatchListenerByColor(t)}),null!=(t=document.querySelector(".color-palette__header .popover-button")))&&t.classList.remove("hidden"),document.querySelectorAll(".swatch i").forEach(function(t){return t.addEventListener("click",function(t){t.stopPropagation();t=t.target.dataset.value;t&&o.deleteSwatch(t)})})},o.deleteSwatch=function(e){this.palettes.colors=this.palettes.colors.filter(function(t){return t!==e}),this.drawSwatches(),0===this.palettes.colors.length&&(this.editPaletteInputButton&&(this.editPaletteInputButton.checked=!1),this.isOnEdition=!1)},o.showDeleteSwatchesButtons=function(){document.querySelectorAll(".swatch i").forEach(function(t){return t.classList.remove("hidden")})},o.showSaveButton=function(){var t;null!=(t=this.savePaletteButton)&&t.classList.remove("hidden")},o.showCancelButton=function(){var t;null!=(t=this.cancelEditionButton)&&t.classList.remove("hidden")},o.savePalette=function(){var t;this.palettes.colors=this.palettes.colors,document.getElementById("edit-palette").checked=!1,this.isOnEdition=!1,null!=(t=this.savePaletteButton)&&t.classList.add("hidden"),null!=(t=this.cancelEditionButton)&&t.classList.add("hidden"),this.sendDataColorPalette(),this.drawSwatches(),0===this.palettes.colors.length&&null!=(t=document.querySelector(".color-palette__header .popover-button"))&&t.classList.add("hidden")},o.cancelEdition=function(){var t;document.getElementById("edit-palette").checked=!1,this.isOnEdition=!1,null!=(t=this.cancelEditionButton)&&t.classList.add("hidden"),null!=(t=this.savePaletteButton)&&t.classList.add("hidden"),this.getUserColorpalette(),this.drawSwatches()},o.removePalette=function(){var t;o.palettes.colors=[],o.savePalette(),document.querySelector(".modal-remove-palette .modal__close").click(),null!=(t=document.querySelector(".color-palette__header .popover-button"))&&t.classList.add("hidden")},o.noThanks=function(){document.querySelector(".modal-remove-palette .modal__close").click()},o.notPremiumUser=function(){var t=document.querySelector("section.color-palette .color-palette__header");t.style.display="block",t.querySelector("p").style.display="inline",null!=(t=t.querySelector("i"))&&t.classList.remove("hidden"),this.colorPaletteButton.classList.add("modal__trigger"),this.colorPaletteButton.dataset.modal="modal-palette-not-premium-user",m.a.callModalPaletteNotPremiumUser(),window.addEventListener("modal-loaded-modal-palette-not-premium-user",function(){var t;null!=(t=document.querySelector("#modal-palette-not-premium-user a"))&&t.addEventListener("click",function(){c.a.send("ga","event","editor","add-custom-color","registered"),c.a.send("ga4dl",{event:"ga4event",event_name:"microfunnel",location:"popup_custom_palette",interaction_type:"click",action:"go_premium",product_price:"full_price",campaign_name:"no_campaign",discount_type:"0"})})})},o.sendDataColorPalette=function(){var t=APP_URL+"ajax/user-palette/"+this.palettes.id;Object(p.a)(t,{method:"POST",data:JSON.stringify({colors:this.palettes.colors}),headers:{"X-Requested-With":"XMLHttpRequest"}}).catch(function(t){v.a.alert("notification-colorpalette",messages.colorPalette.updatingError,"warning","bottom-left")})},o.handleSwatchListenerByColor=function(t){var e=this;null!=t&&t.addEventListener("click",function(t){t=t.currentTarget;!e.isOnEdition&&t&&t.title&&(document.querySelector("#svg-icon-colors .color .active").style.background.includes("linear-gradient")?v.a.alert("notification-colorpalette",messages.colorPalette.noGradients,"warning","bottom-left"):(w.pickr.setColor(t.title.toLowerCase()),h.Color.fireChangeColor(t.title.toLowerCase(),!0),h.Color.setSVGColor(t.title.toLowerCase())))})},o}()),g=(f.isOnEdition=!1,f.limitColorsIndex=10,i(417)),_=i(16),y=i(21),b=i(59),w=(i.d(e,"Editor",function(){return w}),function(){function a(){}return a.init=function(t,e){void 0===e&&(e=!1),d.e.Pickr=n,d.e.GPickr=u,this.close(),this.handleGATrackerEvents(),this.handleListeners(),f.init(v.a.isPremium()),this.formElement=document.querySelector("#download-form"),"icon-detail"==d.e.view.section&&(this.formElement=document.querySelector("#detail #download-form")),this.handleModalView(t),e&&this.open(),y.a.isEnabled("edit_raw_svg")&&this.iconData.hasRaw&&Promise.resolve().then(i.bind(null,610)).then(function(t){d.e.Stroke=t.Stroke}),this.removeFocusDisplayButton(),this.removeFocusDownloadButton(),this.handleDownloadButtonsEvents()},a.getBase64Resource=function(t,e,o){t=btoa(t);_.a.fillBase64Form("data:image/svg+xml;base64,"+t),this.trackDownload(e,o)},a.getResourceByFormat=function(t,e){var o,n=(null==(o=document.querySelector(".detail__editor__icon-holder"))?void 0:o.innerHTML)||"";switch(t){case"base64":this.getBase64Resource(n,t,e);break;case"svg":case"eps":case"png":case"jpeg":case d.e.FeatureFlag.isEnabled("raw_svg")&&"raw-svg":this.serverDownload(n,t,e);break;default:return}},a.downloadEventCallback=function(t){if(t.preventDefault(),t.stopPropagation(),!d.e.FeatureFlag.isEnabled("unpaid_new_usecase")&&d.e.Essentials&&null!=(e=d.e.Essentials.prechurnInfo)&&e.unpaid||d.e.FeatureFlag.isEnabled("unpaid_new_usecase")&&d.e.Essentials)d.e.Essentials.handleDownloadClick();else{var e=t.currentTarget,t=e.getAttribute("data-format")||"",o=e.dataset.size||"",n=document.querySelector("#detail").dataset,r=n.elementid||(null==(r=a.iconData)?void 0:r.id);if(v.a.isPremiumFlaticon())return a.finalDownload(e);if(v.a.isPremium()||"png"==t){if(d.e.FeatureFlag.isEnabled("regular_editor_to_uicons")&&"uicon"===n.icon_type)return a.finalDownload(e);i.e(33).then(i.bind(null,620)).then(function(t){return t.AttributionEditor.setUpModalFreeDownload()});n=Object(d.c)("#download-free");n.setAttribute("data-format",t||""),n.setAttribute("data-size",o||""),document.getElementById("modal-download").checked=!0}else m.a.callModalDownloadOnlyForPremium(r)}},a.handleDownloadButtonsEvents=function(){var e=this;this.downloadElements.forEach(function(t){t.removeEventListener("click",e.downloadEventCallback,!0),t.addEventListener("click",e.downloadEventCallback,!0)})},a.open=function(){var t,o=this,e=(document.body.classList.add("overflow--mobile"),document.querySelector("#detail")),n=(e&&(n=document.querySelector(".detail__editor"),e=e.querySelector(".detail__top"),n&&e&&(e.classList.add("hide"),n.classList.remove("hide"),null!=(e=document.querySelector("#detail .detail__inner")))&&e.insertBefore(n,document.querySelector(".detail__top")),"icon-detail"==d.e.view.section&&(t=document.querySelector("#detail #download-form")),(t=y.a.isEnabled("regular_editor_to_uicons")&&"uicons-detail-page"==d.e.view.section?document.querySelector("#detail #download-edited-uicon-form"):t)&&(this.iconData={id:d.e.Resource.resource.id,name:d.e.Resource.resource.name,author:d.e.Resource.resource.author,color:d.e.Resource.resource.color,premium:d.e.Resource.resource.premium,isColor:"2"==d.e.Resource.resource.color,resourceType:d.e.Resource.resource.type,hasRaw:d.e.Resource.resource.hasRaw},null==(e=document.querySelector("ul:not(.collection_icons_list) li.icon--item[data-id='"+this.iconData.id+"']"))&&(e=document.querySelector(".detail__icon__inner img")),null!=(t=document.querySelector(".only_registered .alert_no_user"))&&t.classList.remove("zoomOut"),gr.auth.logged?(null!=(t=document.querySelector(".only_registered"))&&t.classList.add("hidden"),(t=null==n?void 0:n.querySelector("#download_button"))&&(t.disabled=!1)):(null!=(n=document.querySelector(".only_registered"))&&n.classList.remove("hidden"),null!=(t=document.querySelector(".only_registered .alert_no_user"))&&t.classList.remove("hidden")),v.a.isLogged()&&(this.iconData.imageUrl=e.dataset.icon_src||e.src,n=APP_URL+"editor/icon/svg/"+this.iconData.id+"?type="+this.iconData.resourceType,Object(p.a)(n,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(){var e=Object(r.a)(l.a.mark(function t(e){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.url&&o.loadSVG(e.url);case 1:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}())),d.e.IconData=this.iconData),y.a.isEnabled("edit_raw_svg"))&&this.iconData.hasRaw&&null!=(t=document.getElementById("option_edit__stroke"))&&t.classList.remove("hidden"),null==(e=document.querySelector(".detail__editor__icon-wrapper svg"))?void 0:e.querySelectorAll("linearGradient"));n&&0!=n.length||(this.history=new h.EditorHistory),this.editorTrackerTag="editor",this.editForRegisterTrackerTag="edit-icon",y.a.isEnabled("regular_editor_to_uicons")?(t=this.iconData.resourceType,["sticker","uicon"].includes(this.iconData.resourceType)&&(this.editorTrackerTag="editor-"+t+"'",this.editForRegisterTrackerTag="edit-"+t,null!=(e=document.querySelector("#save_into_active")))&&e.classList.add("hidden")):"sticker"===this.iconData.resourceType&&(this.editorTrackerTag="editor-sticker",this.editForRegisterTrackerTag="edit-sticker",null!=(n=document.querySelector("#save_into_active")))&&n.classList.add("hidden"),c.a.send("ga","event",this.editorTrackerTag,"open")},a.close=function(){document.body.classList.remove("overflow--mobile");var t,e=document.querySelector("#detail"),e=(e&&(t=document.querySelector(".detail__editor"),e=e.querySelector(".detail__top"),t&&e&&(t.classList.add("hide"),e.classList.remove("hide")),document.body.appendChild(t)),document.querySelector("#icon-edit-color-picker")),e=(e&&(e.innerHTML='<div class="color-picker-wrapper"></div>'),null!=(t=this.history)&&t.reset(),document.querySelector('.detail__editor__submenu input[id="editor__colors"]'));e&&(e.checked=!0),document.querySelectorAll('.detail__editor__submenu input[name="editor__option"]:not([id="editor__colors"])').forEach(function(t){t.checked=!1}),null!=(t=document.querySelector('.detail__editor__menu li label[for="editor__colors"]'))&&t.classList.add("active"),document.querySelectorAll('.detail__editor__menu li label:not([for="editor__colors"])').forEach(function(t){t.classList.remove("active")}),a.cleanSvgHolder(),a.cleanAlertsAndButtons()},a.handleListeners=function(){var t=document.querySelector(".detail__editor button.close");null!=t&&t.removeEventListener("click",this.close),null!=t&&t.addEventListener("click",this.close),document.querySelectorAll(".detail__editor__menu li").forEach(function(t){null!=t&&t.addEventListener("click",function(t){var e,t=null==(t=t.currentTarget)||null==(t=t.querySelector("label"))?void 0:t.htmlFor;"editor__forms"==t?document.querySelectorAll(".detail__editor__controls span button").forEach(function(t){t.classList.add("hide")}):document.querySelectorAll(".detail__editor__controls span button").forEach(function(t){t.classList.remove("hide")}),null!=(e=document.querySelector('.detail__editor__menu li label[for="'+t+'"]'))&&e.classList.add("active"),document.querySelectorAll('.detail__editor__menu li label:not([for="'+t+'"])').forEach(function(t){t.classList.remove("active")})})}),Object(d.a)("#save_into_active","click",function(t){0==this.disabled&&a.saveIntoCollection(t)})},a.handleEditorListeners=function(){var r,t,i=this,e=document.querySelector(".detail__editor"),o=null==e?void 0:e.querySelector(".pcr-app"),n=null==e?void 0:e.querySelector(".color-tab-palette-replace"),n=null==n?void 0:n.querySelector("p:nth-of-type(3)"),a=null==e?void 0:e.querySelector(".detail__editor__controls"),a=null==a?void 0:a.querySelectorAll(".tooltip.tooltip--top"),l=null==e?void 0:e.querySelector("#last-icon-colors"),s=null==e?void 0:e.querySelector("#save_into_active"),c=null==(c=document.querySelector(".detail__editor__icon-wrapper svg"))?void 0:c.querySelectorAll("linearGradient");null!=o&&o.classList.add("hidden"),c&&0<c.length?(null!=n&&n.classList.add("hidden"),null!=l&&l.classList.add("hidden"),null!=a&&a.forEach(function(t){t.classList.add("hidden")})):(null!=n&&n.classList.remove("hidden"),null!=l&&l.classList.remove("hidden"),null!=a&&a.forEach(function(t){t.classList.remove("hidden")})),this.pickr&&(document.querySelectorAll('#icon-edit-color-picker .pcr-selection > div[class*="pcr-color-"]').forEach(function(t){t.addEventListener("mousedown",function(){document.querySelector(".detail__editor .pcr-interaction .pcr-result").blur()})}),this.pickr.on("changestop",function(t){t=t.getColor().toHEXA().toString().toLowerCase();h.Color.fireChangeColor(t)}),this.pickr.on("change",function(t){s.disabled=!1,i.setAlertAndDownloadButton(!1),h.Color.setSVGColor(t.toHEXA().toString().toLowerCase());var e=document.querySelector(".detail__editor .pcr-interaction .pcr-result");e&&document.activeElement===e&&7==e.value.length&&h.Color.fireChangeColor(t.toHEXA().toString().toLowerCase())}),this.pickr.on("show",function(){null!=o&&o.classList.remove("hidden")}),this.pickr.on("hide",function(){null!=o&&o.classList.add("hidden")}),null!=(c=Object(d.c)(".pcr-result")))&&c.setAttribute("maxlength","7"),this.gpickr&&(r=null==e?void 0:e.querySelector("#_svg_editor_resetBtn"),t=null==e?void 0:e.querySelector(".gpcr-interaction"),this.gpickr.on("change",function(){var t,e=i.gpickr.getStops(),o=document.querySelector("#svg-icon-colors button.active"),n=i.gpickr.getGradient();o&&(t=o.getAttribute("data-original"),1<e.length&&h.Color.setSVGGradientColor(e,"[id = "+t+"]"),o.style.background=n),s.disabled=!1,r.disabled=!1,i.setAlertAndDownloadButton(!1)}),r.addEventListener("click",function(){var t;i.iconData.imageUrl&&(i.loadSVG(i.iconData.imageUrl),document.querySelector(".gpcr-stop-marker"))&&(t=null==(t=document.querySelector(".gpcr-stop-marker"))?void 0:t.children,Array.from(t).forEach(function(t){t.remove()}),i.addStopGradient())}),this.gpickr._pickr.on("show",function(){null!=o&&o.classList.remove("hidden"),null!=t&&t.classList.remove("hidden")}),this.gpickr._pickr.on("hide",function(){null!=o&&o.classList.add("hidden"),null!=t&&t.classList.add("hidden")}))},a.handleModalView=function(t){var e=document.querySelector(".detail__editor");t&&e?null!=(t=document.querySelector("#detail .detail__inner"))&&t.insertBefore(e,document.querySelector(".detail__top")):e&&(document.querySelector("#detail .detail__inner")&&!document.getElementById("detail-overlay")?null!=(t=document.querySelector("#detail .detail__inner"))&&t.insertBefore(e,document.querySelector(".detail__top")):null!=(t=document.querySelector("body"))&&t.appendChild(e))},a.pickrInit=function(){this.pickr=d.e.Pickr.create({el:".color-picker-wrapper",container:"#icon-edit-color-picker",showAlways:!1,inline:!1,comparison:!1,useAsButton:!0,defaultRepresentation:"HEX",default:this.plainColor,components:{preview:!1,opacity:!1,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!1}}});var t=document.querySelector(".detail__editor"),t=null==t?void 0:t.querySelector(".color-picker-btn");null!=t&&t.classList.add("hidden")},a.GPickrOpen=function(t){a.gpickr._pickr.show(),t.stopPropagation();t=document.querySelector("body");null!=t&&t.removeEventListener("click",a.GPickrCloseWhenClickOut),null!=t&&t.addEventListener("click",a.GPickrCloseWhenClickOut)},a.GPickrCloseWhenClickOut=function(t){var e=document.querySelector(".detail__editor .pcr-app"),t=Boolean(t.target.closest("#icon-edit-color-picker"));e.classList.contains("visible")&&!t&&(a.gpickr._pickr.hide(),null!=(e=document.querySelector("body")))&&e.removeEventListener("click",a.GPickrCloseWhenClickOut)},a.GPickrInit=function(){var t=document.querySelector(".detail__editor"),e=null==t?void 0:t.querySelector(".color-picker-btn"),t=(this.gpickr=new d.e.GPickr({el:".color-picker-wrapper",container:"#icon-edit-color-picker",showAlways:!1,inline:!1,comparison:!1,useAsButton:!0,defaultRepresentation:"HEX",stops:this.gradientColorsArray}),null==t?void 0:t.querySelector(".gpcr-interaction"));null!=t&&t.classList.add("hidden"),null!=e&&e.classList.remove("hidden"),null!=e&&e.removeEventListener("click",a.GPickrOpen),null!=e&&e.addEventListener("click",a.GPickrOpen)},a.addStopGradient=function(){var e=this;0<this.gradientColorsArray.length&&this.gradientColorsArray.forEach(function(t){e.gpickr.off().addStop(t[0],parseFloat(t[1]))})},a.loadSVG=function(t){var n=this;h.EditorHelpers.getSVGCode(t).then(function(t){var e,o=document.querySelector(".detail__editor__icon-holder");o&&(o.innerHTML="",o=[],t.getAttribute("viewBox")&&(o=(null==t||null==(e=t.getAttribute("viewBox"))?void 0:e.split(" "))||[]),n.draw=Object(s.a)().addTo(".detail__editor__icon-holder").size(512,512),n.draw.attr("x",0),n.draw.attr("y",0),n.draw.attr("viewBox",t.getAttribute("viewBox")?"0 0 "+(o?o[2]:0)+" "+(o?o[3]:0):"0 0 512 512"),n.draw.attr("style","enable-background:new 0 0 512 512"),n.draw.attr("xml:space","preserve"),n.draw.svg("<g>"+t.innerHTML+"</g>"),n.initial=n.draw.clone(),h.Color.getColors(n.draw),y.a.isEnabled("edit_raw_svg")&&(n.iconData.hasRaw?d.e.Stroke.handleEventStroke():null!=(e=document.getElementById("option_edit__stroke"))&&e.classList.add("hidden")),n.setAlertAndDownloadButton("2"==n.iconData.color),(o=document.querySelectorAll("#svg-icon-colors button")).forEach(function(t){t.addEventListener("click",function(){return a.selectColorButton(t)},{passive:!0})}),n.selectColorButton(o[0]))})},a.selectColorButton=function(t){var e,o=document.querySelector("#svg-icon-colors button.active"),o=(null!=o&&o.classList.remove("active"),t.getAttribute("data-actual"));o&&(this.plainColor=o),t.classList.add("active"),document.querySelector("#icon-edit-color-picker")&&(e=document.querySelector("#icon-edit-color-picker"))&&(e.innerHTML='<div class="color-picker-wrapper"></div>'),null!=o&&o.includes("#")?this.pickrInit():(h.Color.updateColorSvg(t),this.GPickrInit()),Object(g.a)(),h.Shape.handleEventShapes(),y.a.isEnabled("edit_raw_svg")&&this.iconData.hasRaw&&d.e.Stroke.handleEventStroke(),this.handleEditorListeners()},a.trackDownload=function(t,e){var o=new FormData,n=t,n=(d.e.FeatureFlag.isEnabled("raw_svg")&&this.iconData.hasRaw&&"svg"===t&&(n="svg editable"),c.a.send("ga","event",this.editorTrackerTag,"download",n.toUpperCase()),_.a.trackDownload(this.iconData.id,t),y.a.isEnabled("regular_editor_to_uicons")||(n=document.querySelector("#download-form #team").value,o.append("team",n)),o.append("id",this.iconData.id),o.append("format",t),o.append("size",e),o.append("color","#"+this.iconData.color),new XMLHttpRequest);n.open("POST","/downloads/track-download"),n.send(o)},a.serverDownload=function(t,e,o){var n,r=e,i=(this.iconData||(this.iconData=Object.assign({},d.e.IconData)),document.createElement("form"));for(n in i.method="POST",i.action=FLATICON_DOWNLOAD_URL+"download/icon/edited",i.style.display="none",this.iconData)i.insertAdjacentHTML("beforeend",'<input type="text" name="{0}" value="{1}">'.format(n,this.iconData[n]));if(i.insertAdjacentHTML("beforeend",'<input type="text" name="format" value="'+e+'">'),i.insertAdjacentHTML("beforeend",'<input type="text" name="size" value="'+o+'">'),i.insertAdjacentHTML("beforeend",'<input type="text" name="code" value="'+btoa(unescape(encodeURIComponent(t)))+'">'),i.insertAdjacentHTML("beforeend",'<input type="text" name="type" value="'+this.iconData.resourceType+'">'),document.body.appendChild(i),i.submit(),d.e.FeatureFlag.isEnabled("raw_svg")&&this.iconData.hasRaw&&"svg"===e&&(r="svg editable"),c.a.send("ga","event",this.editorTrackerTag,"download",r.toUpperCase()),null!=(o=i.parentNode)&&o.removeChild(i),v.a.isPremiumFlaticon())_.a.trackDownload(this.iconData.id,e);else{if(d.e.FeatureFlag.isEnabled("regular_editor_to_uicons"))if("uicon"===a.iconData.resourceType)return;b.a.initialize("icon"),b.a.show(),document.getElementById("modal-download").checked=!1}},a.setAlertAndDownloadButton=function(t){var e,o=document.getElementById("save_into_active");"sticker"!==this.iconData.resourceType&&(v.a.isLogged()?d.e.Collection.getActive().status&&o?a.hasMoreThan3EditedIconPerCollection()&&!v.a.isPremium()?(null!=(e=document.querySelector(".detail__editor .free_user_warning"))&&e.classList.remove("hidden"),o.disabled=!0):a.hasReachedLimitIconPerCollection()?(null!=(e=document.querySelector(".detail__editor .collection_limit"))&&e.classList.remove("hidden"),o.disabled=!0):null!=(e=document.querySelector(".detail__editor .free_user_warning"))&&e.classList.add("hidden"):(o.disabled=!0,null!=(e=document.querySelector(".detail__editor .collection_locked"))&&e.classList.remove("hidden")):(null!=(e=document.querySelector(".only_registered"))&&e.classList.remove("hidden"),null!=(e=document.querySelector(".detail__editor .edit-icons-user-actions #download_button"))&&e.classList.add("hidden"),o.classList.add("hidden")))},a.saveIntoCollection=function(t){t.preventDefault(),t.stopPropagation(),this.save(!1)},a.save=function(t){var e=this,o=null==(o=document.querySelector(".detail__editor__icon-holder"))?void 0:o.innerHTML,n=d.e.db.rowCount(d.e.Collection.getActive().bookmark_id)+1;d.e.Collection.upload_icon(o,this.iconData.isColor,n,this.iconData.id,this.iconData.color,this.iconData.name,t),document.getElementById("save_into_active").disabled=!0,setTimeout(function(){e.setAlertAndDownloadButton("2"==e.iconData.color)},500)},a.removeFocusDisplayButton=function(){var t=document.querySelector(".detail__editor__options.detail__editor__display"),e=t.getElementsByTagName("button");t&&Array.prototype.forEach.call(e,function(t){t.addEventListener("click",function(){t.blur()})})},a.removeFocusDownloadButton=function(){var t=document.querySelector("body"),o=document.querySelector(".detail__editor .popover-container .popover-content"),n=document.querySelector(".detail__editor .popover-container #download_button");n&&n.addEventListener("click",function t(e){e.preventDefault(),this.classList.toggle("active"),o.classList.toggle("show-menu"),e.stopPropagation(),n.removeEventListener("click",t,!0)},!0),o.addEventListener("click",function(t){t.stopPropagation()},!1),t.addEventListener("click",function(){o&&o.classList.contains("show-menu")&&(o.classList.remove("show-menu"),n.classList.remove("active"))},!1)},a}());w.gradientColorsArray=[],w.downloadElements=document.querySelectorAll(".detail__editor .popover--download a"),w.MAX_ICON_PER_COLLECTION=256,w.MAX_EDITED_ICON_PER_COLLECTION=3,w.finalDownload=function(t){var e,o=document.querySelector(".detail__editor__icon-holder svg"),n=(null!=(n=document.querySelector(".detail__editor .popover-container .popover-content"))&&n.classList.toggle("show-menu"),null!=(n=document.querySelector(".detail__editor .popover-container #download_button"))&&n.classList.remove("active"),document.querySelector(".detail__editor__sizes-toggle"));n&&(n.checked=!1),o&&(n=t.getAttribute("data-size")?t.getAttribute("data-size"):"512",e=t.getAttribute("data-format")||"",n&&(o.setAttribute("width",n),o.setAttribute("height",n)),t.classList.contains("png_dropper")?null!=t&&null!=(t=t.parentNode)&&null!=(t=t.parentNode)&&null!=(t=t.querySelector(".customize"))&&t.classList.add("active"):(w.getResourceByFormat(e,n||"512"),o.setAttribute("width","512"),o.setAttribute("height","512")))},w.handlerTracker=function(t,e){return c.a.send("ga","event",w.editorTrackerTag,t,e)},w.shapeTracker=function(t){t=t.currentTarget.dataset.values;c.a.send("ga","event",w.editorTrackerTag,"forms",t="rounded"===t?"square-rounded":t)},w.collectionLockedTracker=function(){return c.a.send("ga","event",w.editorTrackerTag,"alert-premium")},w.registerLinkTracker=function(){return c.a.send("ga","event","register","click",w.editForRegisterTrackerTag)},w.handleGATrackerEvents=function(){var t={name:"menu",options:{color:"colors",display:"display",forms:"forms"}},e={name:"position",options:{move:"move",rotateFlip:"rotate-flip"}};document.querySelector("#editor__colors").onclick=function(){return w.handlerTracker(t.name,t.options.color)},document.querySelector("#editor__display").onclick=function(){return w.handlerTracker(t.name,t.options.display)},document.querySelector("#editor__forms").onclick=function(){return w.handlerTracker(t.name,t.options.forms)},document.querySelectorAll(".edit__move button").forEach(function(t){return t.onclick=function(){return w.handlerTracker(e.name,e.options.move)}}),document.querySelectorAll(".edit__rotate button , .edit__flip button").forEach(function(t){return t.onclick=function(){return w.handlerTracker(e.name,e.options.rotateFlip)}}),document.querySelectorAll(".detail__editor__forms button").forEach(function(t){return t.onclick=w.shapeTracker}),document.querySelector(".collection_locked a").onclick=w.collectionLockedTracker,document.querySelector(".edit_register_link").onclick=w.registerLinkTracker},w.cleanSvgHolder=function(){return document.querySelector(".detail__editor__icon-holder").innerHTML=""},w.cleanAlertsAndButtons=function(){var t;null!=(t=document.querySelector(".detail__editor .collection_locked"))&&t.classList.add("hidden"),null!=(t=document.querySelector(".detail__editor .free_user_warning"))&&t.classList.add("hidden"),null!=(t=document.querySelector(".detail__editor .collection_limit"))&&t.classList.add("hidden")},w.hasMoreThan3EditedIconPerCollection=function(){return d.e.db.queryAll(d.e.Collection.getActive().bookmark_id,{query:{premium:4}}).length>=w.MAX_EDITED_ICON_PER_COLLECTION},w.hasReachedLimitIconPerCollection=function(){return d.e.db.queryAll(d.e.Collection.getActive().bookmark_id).length>=w.MAX_ICON_PER_COLLECTION}},409:function(j,t,e){"use strict";e.r(t);function n(t){var e=t||m;(t=document.querySelectorAll(".uicon-detail-holder svg [fill]"))&&t.forEach(function(t){return t.setAttribute("fill",e)}),H(e)}function r(){var t=null==(t=document.querySelector(".uicon-detail-holder"))?void 0:t.innerHTML;h.Uicons.svgCode=t||"",(null==(t=document.querySelector(".uicon-detail-holder svg [fill]"))?void 0:t.getAttribute("fill"))!==m&&(h.Uicons.isEdited=!0)}function o(t){var e=(t=t.currentTarget).dataset.action,o=t.dataset.values;if("shape"==e)switch(o){case"circle":V();break;case"square":W();break;case"rounded":U();break;case"none":S(),d=void 0}null!=(e=document.querySelector(".detail__editor__forms .shape-type button.active"))&&e.classList.remove("active"),t.classList.add("active")}function i(t){t.stopPropagation(),"range"==(t=t.currentTarget).type?document.querySelector('.detail__editor__forms input[type="number"]').value=t.value:document.querySelector('.detail__editor__forms input[type="range"]').value=t.value,b=parseFloat(t.value),null!=c&&c.transform({scale:b/100,origin:"center"})}function a(t){w=t,null!=c&&c.fill(t)}function l(){1==f.Editor.draw.find("g")[0].transform().scaleX&&(Object(y.d)(X,!0,!0),k=!0)}function s(){var t;null!=(t=document.getElementById("editor__forms__options"))&&t.classList.remove("hide")}var c,d,u,R=e(105),p=e(0),h=e(25),H=(p.e.Pickr=R,function(t){"#"===t.slice(0,1)&&(t=t.slice(1));t=128<=(299*parseInt(t.substring(0,2),16)+587*parseInt(t.substring(2,4),16)+114*parseInt(t.substring(4,6),16))/1e3?"black":"white";document.querySelector(".detail__top .detail__content").style.background="black"==t?"#1D262D":"#f8fafb"}),m="#374957",v={pickrInit:function(){m="#000000";var e,t,o=p.e.Pickr.create({el:"#uicon-color-picker-wrapper",container:".uicon-edit-color-picker",showAlways:!1,inline:!1,comparison:!1,useAsButton:!0,defaultRepresentation:"HEX",default:m,swatches:[m],components:{preview:!1,opacity:!1,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!1}}});o&&(e=Object(p.c)(".pcr-swatches button"),t=Object(p.c)(".pcr-result"),o.on("change",function(t){n(t.toHEXA().toString().toLowerCase()),e.style.color=t.toHEXA().toString()}),o.on("changestop",r),e&&(e.disabled=!0),t)&&(null!=t&&t.setAttribute("maxlength","7"),t.onblur=r)},setUiconColor:n},f=e(394),F=e(481),M={getSVGCode:function(t){return new Promise(function(o,n){var r=document.createElement("div");r.id="editor",r.style.display="none",document.body.appendChild(r),fetch(t).then(function(t){return t.text()}).then(function(t){r.innerHTML=(t=t,Object(F.optimize)(t,{plugins:[{name:"preset-default",params:{overrides:{removeViewBox:!1,minifyStyles:!1}}}]}).data);var e,t=document.querySelector("#editor svg");t||n(),null!=r&&null!=(e=r.parentNode)&&e.removeChild(r),o(t)})})},resizeSvgToDefault:function(t){return t.replace('height="128"','height="512"').replace('width="128"','width="512"')}},g=e(7),_=e(610),y=e(417),G=e(21),N=function(){function t(){var e=this;this.undoButton=document.getElementById("_svg_editor_undoBtn"),this.redoButton=document.getElementById("_svg_editor_redoBtn"),this.resetButton=document.getElementById("_svg_editor_resetBtn"),this.undo=function(){var t=e.events[e.index];"color"==t.type?(I.setSVGColor(t.data.fromColor,t.data.element),e.index--):(e.index--,-1==e.index?"strokeWidth"==t.type?Object(_.setInitialStrokeWith)():Object(y.c)(!0):"strokeWidth"==(t=e.events[e.index]).type?Object(_.strokeWidth)(t.data,!0,!0,!0):Object(y.c)(t.data)),e.checkButtonStatus(),g.a.send("ga","event",f.Editor.editorTrackerTag,"history","undo")},this.redo=function(){e.index++;var t=e.events[e.index];"color"==t.type?I.setSVGColor(t.data.toColor,t.data.element):"strokeWidth"==t.type?Object(_.strokeWidth)(t.data,!0,!0,!0):Object(y.c)(t.data),e.checkButtonStatus(),g.a.send("ga","event",f.Editor.editorTrackerTag,"history","redo")},this.reset=function(){f.Editor.draw&&(f.Editor.draw.find("g")[0].replace(f.Editor.initial.find("g")[0]),f.Editor.initial=f.Editor.draw.clone(),e.events=[],e.index=-1,e.checkButtonStatus(),e.handleListeners(),I.getColors(f.Editor.draw),E.reset(),G.a.isEnabled("edit_raw_svg")&&Object(_.setInitialStrokeWith)(),Object(y.b)(),g.a.send("ga","event",f.Editor.editorTrackerTag,"history","reset"))},this.events=[],this.index=-1,this.checkButtonStatus(),this.handleListeners()}var e=t.prototype;return e.push=function(t){var e=this;void 0!==this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){e.index!=e.events.length-1&&e.events.splice(e.index+1),"color"==t.type&&I.handleEventColors(),e.events.push(t),e.index++,e.checkButtonStatus()},300)},e.checkButtonStatus=function(){var t,e=document.getElementById("save_into_active");-1==this.index?(this.undoButton.disabled=!0,this.resetButton.disabled=!0,e.disabled=!0):(this.undoButton.disabled=!1,this.resetButton.disabled=!1,null!=(t=document.querySelector(".detail__editor .free_user_warning"))&&t.classList.contains("hidden")&&(e.disabled=!1)),this.index<this.events.length-1?(this.redoButton.disabled=!1,this.resetButton.disabled=!1):this.redoButton.disabled=!0},e.handleListeners=function(){this.undoButton.onclick=this.undo,this.redoButton.onclick=this.redo,this.resetButton.onclick=this.reset},t}(),X=70,b=100,w="#BAC8D3",k=!1,V=function(){d&&"circle"==d||(S(),s(),l(),c=f.Editor.draw.circle(f.Editor.draw.width()).radius(f.Editor.draw.viewbox().width/2).cx(f.Editor.draw.viewbox().width/2).cy(f.Editor.draw.viewbox().height/2).back().fill(w).attr({shape:"circle"}),d="circle",document.getElementById("save_into_active").disabled=!1,f.Editor.setAlertAndDownloadButton(!1))},U=function(){d&&"rounded"==d||(S(),s(),l(),c=f.Editor.draw.rect(f.Editor.draw.viewbox().width,f.Editor.draw.viewbox().height).radius(20).back().fill(w).attr({shape:"rounded"}),d="rounded",document.getElementById("save_into_active").disabled=!1,f.Editor.setAlertAndDownloadButton(!1))},W=function(){d&&"square"==d||(S(),s(),l(),c=f.Editor.draw.rect(f.Editor.draw.viewbox().width,f.Editor.draw.viewbox().height).back().fill(w).attr({shape:"square"}),d="square",document.getElementById("save_into_active").disabled=!1,f.Editor.setAlertAndDownloadButton(!1))},S=function(){var t;null!=(t=f.Editor.history)&&t.checkButtonStatus(),null!=(t=document.getElementById("editor__forms__options"))&&t.classList.add("hide"),null!=c&&c.remove(),d=void 0,document.querySelector('.detail__editor__forms input[type="number"]').value=100..toString(),document.querySelector('.detail__editor__forms input[type="range"]').value=100..toString(),b=100,null!=u&&u.setColor(w),k&&Object(y.d)(100,!0,!0),document.querySelectorAll(".detail__editor__forms .shape-type button").forEach(function(t){t.classList.remove("active")})},E={handleEventShapes:function(){document.querySelectorAll(".detail__editor__forms .shape-type button").forEach(function(t){null!=t&&t.removeEventListener("click",o),null!=t&&t.addEventListener("click",o)}),u||((u=p.e.Pickr.create({el:".shape-color-picker-wrapper",showAlways:!0,inline:!0,comparison:!1,useAsButton:!1,defaultRepresentation:"HEX",default:"BAC8D3",components:{preview:!1,opacity:!1,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!1}}})).on("change",function(t){a(t.toHEXA().toString().toLowerCase())}),u.on("changestop",function(t){t=t.getColor().toHEXA().toString().toLowerCase();a(t)}),null!=(t=Object(p.c)(".pcr-result"))&&t.setAttribute("maxlength","7"));var t=document.querySelector('.detail__editor__forms input[type="range"]'),t=(null!=t&&t.removeEventListener("input",i),null!=t&&t.addEventListener("input",i),document.querySelector('.detail__editor__forms input[type="number"]'));null!=t&&t.removeEventListener("change",i),null!=t&&t.addEventListener("change",i)},reset:S};function C(t){t=t.toString(16);return 1==t.length?"0"+t:t}function L(t){if(!(7<t.length))return/^#([0-9a-f]{3}){1,2}$/i.test(t)}function $(t){return t.startsWith("rgb")}function z(t){return $(t)?(t=t.split(",").map(function(t){return~~t.replace(/\D+/g,"")}),"#"+C((t=t)[0])+C(t[1])+C(t[2])):""}function A(t){var e;return t?L(t)?L(e=t)?4<e.length?e.toLowerCase():"#"+e.toLowerCase().substring(1).split("").map(function(t){return t+t}).join(""):"":$(t)?z(t):"":""}function q(t,e,o,n){void 0===o&&(o=!0),void 0===n&&(n=!1);var r="editor",i=("sticker"===(null==(a=f.Editor.iconData)?void 0:a.resourceType)&&(r="editor-sticker"),n?document.getElementById("last-icon-colors"):document.getElementById("svg-icon-colors")),a=document.querySelector(".text__general--heading.history");a&&(0<Array.from(document.querySelectorAll("#last-icon-colors .color")).length||n?a.classList.remove("hide"):a.classList.add("hide")),i&&(o&&(i.innerHTML=""),n&&i.querySelectorAll("li").length>=nt&&i.lastChild&&i.removeChild(i.lastChild),t.forEach(function(t,e){var o;t.length<=1||(!Array.isArray(t)&&null!=t&&t.includes("#")?o='<li class="color%LC%">                <button data-original="%C%" data-actual="%C%" style="background:%C%;" onclick="ga(\'send\', \'event\', \''+r+"', 'color', 'color-change-last')\"></button>                </li>":(o='<li class="color%LC%">                        <button data-original="'+t[1]+'" data-actual="%C%" style="background:%C%;" onclick="ga(\'send\', \'event\', \''+r+"', 'color', 'color-change-last')\"></button>                        </li>",0===e&&(o='<li class="color%LC%">                        <button class="active" data-original="'+t[1]+'" data-actual="%C%" style="background:%C%;" onclick="ga(\'send\', \'event\', \''+r+"', 'color', 'color-change-last')\"></button>                        </li>")),t=(Array.isArray(t)?t[0]:t).toLowerCase(),o=null==o?void 0:o.replace("%LC%",lt(t)?" color-light":"").replace(new RegExp("%C%","g"),t),null!=i&&i.insertAdjacentHTML(n?"afterbegin":"beforeend",o),n&&null!=i&&null!=(e=i.querySelector("button"))&&e.addEventListener("click",function(t){t=t.currentTarget;t&&t.dataset.actual&&(f.Editor.pickr.setColor(t.dataset.actual),at(t.dataset.actual,!0),I.setSVGColor(t.dataset.actual))}))}),Array.isArray(t[0])||n||(D(t[0],t[0]),it()))}function B(t,e){f.Editor.draw.attr("class","hovered-paths"),f.Editor.draw.find('[class="hovered-path"]').forEach(function(t){t.attr("class","")}),t&&e&&f.Editor.draw.find('[fill="'+t.toLowerCase()+'"][data-original="'+e.toLowerCase()+'"]').forEach(function(t){t.attr("class","hovered-path")})}function K(){f.Editor.draw.attr("class",""),f.Editor.draw.find('[class="hovered-path"]').forEach(function(t){t.attr("class","")})}function Y(t){if((t="#"===t.charAt(0)?t.substr(1):t).length<2||6<t.length)return!1;var e,o,n,r=t.split("");if(2===t.length)n=o=e=parseInt(r[0].toString()+r[1].toString(),16);else if(3===t.length)e=parseInt(r[0].toString()+r[0].toString(),16),o=parseInt(r[1].toString()+r[1].toString(),16),n=parseInt(r[2].toString()+r[2].toString(),16);else{if(6!==t.length)return!1;e=parseInt(r[0].toString()+r[1].toString(),16),o=parseInt(r[2].toString()+r[3].toString(),16),n=parseInt(r[4].toString()+r[5].toString(),16)}return[e,o,n]}function P(t){return(-1!==t.lastIndexOf(";")?t.slice(0,t.length-1):t).split(";")}function O(t){return-1!==t.indexOf("stroke")}function T(t){return-1!==t.indexOf("stroke:none")}function J(t){return-1!==t.indexOf("fill:none")}function x(t){t.attr("style",null==(t=t.attr("style"))?void 0:t.replace(/(fill\:[^\;]+;?)/,""))}function Z(t){t.attr("style",null==(t=t.attr("style"))?void 0:t.replace(/(stroke\:[^\;]+;?)/,""))}var Q=function(t){var t=t.attr("style");return(t=t&&(null==(t=t.match("/(fill:[^;]+;?)/"))?void 0:t.shift()))&&"none"!==t?A(t):null},tt=function(t){t=t.attr("fill");return"none"===t?null:A(t)},et=function(t){var t=t.attr("style");return(t=t&&(null==(t=t.match("/(stroke:[^;]+;?)/"))?void 0:t.shift()))&&"none"!==t?A(t):null},ot=function(t){t=t.attr("stroke");return"none"===t?null:A(t)},nt=6,rt=[],it=function(){document.querySelectorAll("#svg-icon-colors button").forEach(function(t){t.addEventListener("click",function(t){t=t.currentTarget;t&&t.dataset.actual&&t.dataset.original&&D(t.dataset.actual,t.dataset.original)}),t.addEventListener("mouseover",function(t){t=t.currentTarget;t&&t.dataset.actual&&t.dataset.original&&B(t.dataset.actual,t.dataset.original)}),t.addEventListener("mouseout",function(t){t=t.currentTarget;t&&t.dataset.actual&&K()})})},D=function(t,e){t=t.toLowerCase();var o,e=document.querySelector('#svg-icon-colors button[data-actual="'+t+'"][data-original="'+e+'"]');e&&(null!=(o=document.querySelector("#svg-icon-colors button.active"))&&o.classList.remove("active"),e.classList.add("active"),e.style.backgroundColor=t,e.dataset.actual=t)},at=function(t,e){void 0===e&&(e=!1);var o=document.querySelector("#svg-icon-colors button.active"),n=o.dataset.old?A(o.style.backgroundColor):o.dataset.original;n!==(o.style.backgroundColor=t)&&(n={type:"color",data:{fromColor:n,toColor:t,element:document.querySelector("#svg-icon-colors button.active")}},f.Editor.history&&f.Editor.history.push(n),e||q([t],0,!1,!0),o.dataset.old=o.dataset.actual)},lt=function(t){return!!t&&225e3<=299*parseInt(t.substr(1,2),16)+587*parseInt(t.substr(3,2),16)+114*parseInt(t.substr(5,2),16)},I={hasFillNoneInStyle:J,hasStrokeInStyle:O,hasStrokeNoneInStyle:T,isColorLight:lt,hexToRgb:Y,updateColorSvg:function(t){var e=[],o=[],t=t.getAttribute("data-original"),t=null==(t=f.Editor.draw.find("[id = "+t+"]")[0])?void 0:t.node.children;t&&t.forEach(function(t){o.push(t.getAttribute("offset")),e.push(t.getAttribute("stop-color")),f.Editor.gradientColorsArray=[e,o].reduce(function(o,t){return t.forEach(function(t,e){o[e]=o[e]||[],o[e].push(t)}),o},[])})},markActiveElement:B,setSVGGradientColor:function(t,e){f.Editor.draw.find(e).update(function(e){t.forEach(function(t){e.stop(parseFloat(t.location),A(t.color),parseFloat(t.color.split(",").pop()))})})},fireChangeColor:at,setActiveColor:D,setSVGColor:function(e,t){var o,n,r,i=t||document.querySelector("#svg-icon-colors button.active");i&&(o=i.dataset.actual,n=i.dataset.original,o)&&n&&(p.e.FeatureFlag.isEnabled("edit_raw_svg")&&(r=f.Editor.draw.find('[stroke="'+o.toLowerCase()+'"][data-original="'+n.toLowerCase()+'"]'))&&r.forEach(function(t){t.stroke(e)}),(r=f.Editor.draw.find('[fill="'+o.toLowerCase()+'"][data-original="'+n.toLowerCase()+'"]'))&&r.forEach(function(t){t.fill(e)}),t&&(i.style.backgroundColor=e),i.dataset.old=A(i.style.backgroundColor),i.dataset.actual=e)},checkGradient:function(t){return 0<t.querySelectorAll("linearGradient").length?(null!=(t=document.querySelector(".only_registered .alert_no_user"))&&t.classList.add("hidden"),null!=(t=document.querySelector(".only_registered .alert_icon_gradient"))&&t.classList.remove("hidden"),null!=(t=document.querySelector(".only_registered"))&&t.classList.remove("hidden"),!0):(null!=(t=document.querySelector(".only_registered .alert_icon_gradient"))&&t.classList.add("hidden"),!1)},getColors:function(t,a){var e=t.find("path, circle, ellipse, polygon, line, rect, polyline"),l=t.find("linearGradient, radialGradient"),s=[],i=[],c=[];0<l.length&&l.forEach(function(t,e){var o=t.node.children,n=[],r=[];c.push(t.attr("id")),0<o.length&&(Array.from(o).forEach(function(t){var e,o;(t.getAttribute("stop-color")||t.getAttribute("style"))&&(e=t.getAttribute("style")?A(null==(e=t.getAttribute("style"))?void 0:e.replace("stop-color:","")):A(t.getAttribute("stop-color")),e=t.getAttribute("style")?A(null==(o=t.getAttribute("style"))?void 0:o.replace("stop-color:","")):A(t.getAttribute("stop-color")),o=Y(e),t=t.getAttribute("offset"),rt.push(e),n.push("rgb("+o+")"),r.push(parseFloat(t)))}),0===e&&(f.Editor.gradientColorsArray=[n,r].reduce(function(o,t){return t.forEach(function(t,e){o[e]=o[e]||[],o[e].push(t)}),o},[])),i.push("linear-gradient(90deg, "+n[0]+" 0%, "+n[n.length-2]+" 35%, "+n[n.length-1]+" 100%);"))}),e&&e.forEach(function(o){var e,t,n,r="#000000",i=o.attr("style");0<l.length&&o.click(function(){var t=new RegExp("#(?<id>[a-z]+)","gi"),e=this.attr("data-original"),t=null==(t=t.exec(e))||null==(e=t.groups)?void 0:e.id;t&&null!=(e=document.querySelector(".icon-colors button[data-original="+t+"]"))&&e.click()}),i&&-1!=i.indexOf("fill:")?(i&&-1!=i.indexOf("%")?(t=new RegExp("rgb(.*?);","gi").exec(i))&&(t=t[1].replace("(","").replace(")","").replace("%",""),e=[],[].forEach.call(t.split(","),function(t){e.push(Math.round(2.55*parseFloat(t)))}),n="rgb("+e.join(",")+")"):n=1<P(i).length?null==(t=P(i).find(function(t){return-1!==t.indexOf("fill:")}))?void 0:t.replace("fill:","").replace(";",""):i.replace("fill:","").replace(";",""),!n||O(i)&&!T(i)||(r=A(n),o.fill(r)),p.e.FeatureFlag.isEnabled("edit_raw_svg")&&J(i)&&O(i)&&!T(i)&&P(i).forEach(function(t){var e,t=t.split(":"),t={property:t[0],value:t[1]};"stroke"===t.property?(r=A(t.value))&&(o.stroke(r),x(o),Z(o)):"fill"===t.property?o.fill("none"):o.attr(((e={})[t.property]=t.value,e))})):(t=o.node.getAttribute("fill"),n=function(t){t=t.node.parents("g[fill]").shift();return null==t?void 0:t.getAttribute("fill")}(o),r=!t&&n?A(n):-1!=o.fill()?o.fill():o.attr("data-original"),o.fill(r)),-1!=r.indexOf("url(#")?(o.attr("data-original",r),x(o)):r&&(""==A(r)&&null!=(i=o.node.parentNode)&&i.removeChild(o.node),r=A(r),s.push(r),o.attr("data-original",r),x(o)),"uicon"!==a&&(o.mouseover(function(){B(this.attr("fill"),this.attr("data-original"))}),o.click(function(){var t=Q(t=o)||tt(t),t=t||et(t=o)||ot(t);t&&D(t,this.attr("data-original"))}))}),"uicon"!==a&&f.Editor.draw.mouseout(K),s=s.reduce(function(t,e){return-1===t.indexOf(e)&&""!=e&&t.push(e),t},[]),"uicon"!==a&&(t=[],0<i.length&&0==s.length?(t=[i,c].reduce(function(o,t){return t.forEach(function(t,e){o[e]=o[e]||[],o[e].push(t)}),o},[]),q(t)):0<i.length&&0<s.length?(t=[i,c].reduce(function(o,t){return t.forEach(function(t,e){o[e]=o[e]||[],o[e].push(t)}),o},[]),e=s.concat(t),q(e)):q(s)),"uicon"===a&&v.setUiconColor()},setListColors:q,handleEventColors:it};e.d(t,"ColorUicon",function(){return v}),e.d(t,"Editor",function(){return f.Editor}),e.d(t,"EditorHelpers",function(){return M}),e.d(t,"EditorHistory",function(){return N}),e.d(t,"Shape",function(){return E}),e.d(t,"Color",function(){return I})},417:function(t,e,o){"use strict";o.d(e,"a",function(){return r}),o.d(e,"d",function(){return s}),o.d(e,"c",function(){return p}),o.d(e,"b",function(){return h});var n,a=o(394),r=function(){var t=document.querySelectorAll(".detail__editor__display button"),t=(n=a.Editor.draw.find("g")[0].transform(),t.forEach(function(t){null!=t&&t.removeEventListener("click",i),null!=t&&t.addEventListener("click",i)}),document.querySelector('.detail__editor__display input[type="range"]')),t=(null!=t&&t.removeEventListener("input",l),null!=t&&t.addEventListener("input",l),document.querySelector('.detail__editor__display input[type="number"]'));null!=t&&t.removeEventListener("change",l),null!=t&&t.addEventListener("change",l)},i=function(t){var t=t.currentTarget,e=t.dataset.action,o=t.dataset.values;if(o&&e)switch(e){case"move":c(o);break;case"rotate":d(o);break;case"flip":u(o)}t={type:e||"",data:a.Editor.draw.find("g")[0].transform()};a.Editor.history&&a.Editor.history.push(t),document.getElementById("save_into_active").disabled=!1,a.Editor.setAlertAndDownloadButton(!1)},l=function(t){t.stopPropagation();t=t.currentTarget;"range"==t.type?s(parseFloat(t.value),!1,!0):s(parseFloat(t.value),!0,!1),document.getElementById("save_into_active").disabled=!1,a.Editor.setAlertAndDownloadButton(!1)},s=function(t,e,o){var n=a.Editor.draw.find("g")[0].transform().scaleX||0,r=a.Editor.draw.find("g")[0].transform().scaleY||0,n=Math.round(100*n)/100,r=Math.round(100*r)/100,i=(n&&r&&(n=1/n*t/100,r=1/r*t/100,null!=(i=a.Editor.draw.find("g")[0]))&&i.scale(n,r),e&&(document.querySelector('.detail__editor__display input[type="range"]').value=t.toString()),o&&(document.querySelector('.detail__editor__display input[type="number"]').value=t.toString()),{type:"scale",data:a.Editor.draw.find("g")[0].transform()});a.Editor.history&&a.Editor.history.push(i),document.getElementById("save_into_active").disabled=!1},c=function(t){var e=a.Editor.draw.find("g")[0],t=t.split(" "),o=t[0],n=t[1],r=t[2],t=t[3],t=5*(-1*parseInt(t)+parseInt(n)),n=5*(-1*parseInt(o)+parseInt(r));e.transform({translateX:t,translateY:n},e.transform()),document.getElementById("save_into_active").disabled=!1,a.Editor.setAlertAndDownloadButton(!1)},d=function(t){a.Editor.draw.find("g")[0].transform({rotate:t},a.Editor.draw.find("g")[0].transform()),document.getElementById("save_into_active").disabled=!1,a.Editor.setAlertAndDownloadButton(!1)},u=function(t){a.Editor.draw.find("g")[0].transform({flip:t},a.Editor.draw.find("g")[0].transform()),document.getElementById("save_into_active").disabled=!1,a.Editor.setAlertAndDownloadButton(!1)},p=function(t){a.Editor.draw.find("g")[0].transform(!0===t?n:t),h()},h=function(){document.querySelector('.detail__editor__display input[type="range"]').value="100",document.querySelector('.detail__editor__display input[type="number"]').value="100"}},480:function(t,e,o){var n;window,n=function(){return o=[function(t,e,o){function r(t){var e;return(i[t]||(e=i[t]={i:t,l:!1,exports:{}},n[t].call(e.exports,e,e.exports,r),e.l=!0,e)).exports}var n,i;
/*! Pickr 1.4.5 MIT | https://github.com/Simonwep/pickr */
window,t.exports=(n=[function(t){t.exports=JSON.parse('{"a":"1.4.5"}')},function(t,e,o){"use strict";o.r(e);var n={};function i(e,t){var o,n=Object.keys(e);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(e),t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)),n}function a(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach(function(t){var e,o;e=n,o=r[t=t],t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):i(r).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))})}return n}o.r(n),o.d(n,"on",function(){return l}),o.d(n,"off",function(){return r}),o.d(n,"createElementFromString",function(){return c}),o.d(n,"removeAttribute",function(){return d}),o.d(n,"createFromTemplate",function(){return u}),o.d(n,"eventPath",function(){return p}),o.d(n,"resolveElement",function(){return h}),o.d(n,"adjustableInputNumbers",function(){return m});const l=s.bind(null,"addEventListener"),r=s.bind(null,"removeEventListener");function s(t,e,o,n,r={}){e instanceof HTMLCollection||e instanceof NodeList?e=Array.from(e):Array.isArray(e)||(e=[e]),Array.isArray(o)||(o=[o]);for(const i of e)for(const e of o)i[t](e,n,a({capture:!1},r));return Array.prototype.slice.call(arguments,1)}function c(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstElementChild}function d(t,e){var o=t.getAttribute(e);return t.removeAttribute(e),o}function u(t){return function t(e,o={}){const n=d(e,":obj"),r=d(e,":ref"),i=n?o[n]={}:o;r&&(o[r]=e);for(const o of Array.from(e.children)){const e=d(o,":arr"),n=t(o,e?{}:i);e&&(i[e]||(i[e]=[])).push(Object.keys(n).length?n:o)}return o}(c(t))}function p(e){var o=e.path||e.composedPath&&e.composedPath();if(!o){let t=e.target.parentElement;for(o=[e.target,t];t=t.parentElement;)o.push(t);o.push(document,window)}return o}function h(t){return t instanceof Element?t:"string"==typeof t?t.split(/>>/g).reduce((t,e,o,n)=>(t=t.querySelector(e),o<n.length-1?t.shadowRoot:t),document):null}function m(e,i=t=>t){function t(t){const o=[.001,.01,.1][Number(t.shiftKey||2*t.ctrlKey)]*(t.deltaY<0?1:-1);let n=0,r=e.selectionStart;e.value=e.value.replace(/[\d.]+/g,(t,e)=>e<=r&&e+t.length>=r?(r=e,i(Number(t),o,n)):(n++,t)),e.focus(),e.setSelectionRange(r,r),t.preventDefault(),e.dispatchEvent(new Event("input"))}l(e,"focus",()=>l(window,"wheel",t,{passive:!1})),l(e,"blur",()=>r(window,"wheel",t))}o=o(0);const{min:b,max:v,floor:f,round:g}=Math;function _(t,e,o){e/=100,o/=100;var n=f(t=t/360*6),t=t-n,r=o*(1-e),i=o*(1-t*e),t=o*(1-(1-t)*e),e=n%6;return[255*[o,i,r,r,t,o][e],255*[t,o,o,i,r,r][e],255*[r,r,t,o,o,i][e]]}function w(t,e,o){let n,r,i;const a=b(t/=255,e/=255,o/=255),l=v(t,e,o),s=l-a;if(0==s)n=r=0;else{r=s/l;const i=((l-t)/6+s/2)/s,a=((l-e)/6+s/2)/s,c=((l-o)/6+s/2)/s;t===l?n=c-a:e===l?n=1/3+i-c:o===l&&(n=2/3+a-i),n<0?n+=1:1<n&&--n}return[360*n,100*r,100*(i=l)]}function y(t=0,e=0,o=0,n=1){const r=(t,o)=>(e=-1)=>o(~e?t.map(t=>Number(t.toFixed(e))):t),i={h:t,s:e,v:o,a:n,toHSVA(){var t=[i.h,i.s,i.v,i.a];return t.toString=r(t,t=>"hsva(".concat(t[0],", ").concat(t[1],"%, ").concat(t[2],"%, ").concat(i.a,")")),t},toHSLA(){var t,e,o,n=[...(n=i.h,t=i.s,e=i.v,o=(2-(t/=100))*(e/=100)/2,[n,100*(t=0!=o?1==o?0:o<.5?t*e/(2*o):t*e/(2-2*o):t),100*o]),i.a];return n.toString=r(n,t=>"hsla(".concat(t[0],", ").concat(t[1],"%, ").concat(t[2],"%, ").concat(i.a,")")),n},toRGBA(){var t=[..._(i.h,i.s,i.v),i.a];return t.toString=r(t,t=>"rgba(".concat(t[0],", ").concat(t[1],", ").concat(t[2],", ").concat(i.a,")")),t},toCMYK(){e=_(i.h,i.s,i.v),n=e[0]/255,o=e[1]/255,e=e[2]/255;var t,e,o,n=[100*(1===(t=b(1-n,1-o,1-e))?0:(1-n-t)/(1-t)),100*(1===t?0:(1-o-t)/(1-t)),100*(1===t?0:(1-e-t)/(1-t)),100*t];return n.toString=r(n,t=>"cmyk(".concat(t[0],"%, ").concat(t[1],"%, ").concat(t[2],"%, ").concat(t[3],"%)")),n},toHEXA(){const t=_(i.h,i.s,i.v).map(t=>g(t).toString(16).padStart(2,"0")),e=1<=i.a?"":Number((255*i.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return e&&t.push(e),t.toString=()=>"#".concat(t.join("").toUpperCase()),t},clone:()=>y(i.h,i.s,i.v,i.a)};return i}const k=t=>Math.max(Math.min(t,1),0);function S(t){const d={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},t),_keyboard(t){var{type:e,key:o}=t;if(document.activeElement===u.wrapper){const u=d.options["lock"],n="ArrowUp"===o,r="ArrowRight"===o,i="ArrowDown"===o,a="ArrowLeft"===o;if("keydown"===e&&(n||r||i||a)){let t=0,e=0;t="v"===u?n||r?1:-1:"h"===u?n||r?-1:1:(e=n?-1:i?1:0,a?-1:r?1:0),d.update(k(d.cache.x+.01*t),k(d.cache.y+.01*e))}else o.startsWith("Arrow")&&(d.options.onstop(),t.preventDefault())}},_tapstart(t){l(document,["mouseup","touchend","touchcancel"],d._tapstop),l(document,["mousemove","touchmove"],d._tapmove),t.preventDefault(),d._tapmove(t)},_tapmove(t){var{options:{lock:e},cache:o}=d,{element:n,wrapper:r}=u,i=r.getBoundingClientRect();let a=0,l=0;if(t){const d=t&&t.touches&&t.touches[0];a=t?(d||t).clientX:0,l=t?(d||t).clientY:0,a<i.left?a=i.left:a>i.left+i.width&&(a=i.left+i.width),l<i.top?l=i.top:l>i.top+i.height&&(l=i.top+i.height),a-=i.left,l-=i.top}else o&&(a=o.x*i.width,l=o.y*i.height);"h"!==e&&(n.style.left="calc(".concat(a/i.width*100,"% - ").concat(n.offsetWidth/2,"px)")),"v"!==e&&(n.style.top="calc(".concat(l/i.height*100,"% - ").concat(n.offsetHeight/2,"px)")),d.cache={x:a/i.width,y:l/i.height};var s=k(a/r.offsetWidth),c=k(l/r.offsetHeight);switch(e){case"v":return u.onchange(s);case"h":return u.onchange(c);default:return u.onchange(s,c)}},_tapstop(){d.options.onstop(),r(document,["mouseup","touchend","touchcancel"],d._tapstop),r(document,["mousemove","touchmove"],d._tapmove)},trigger(){d._tapmove()},update(t=0,e=0){var{left:o,top:n,width:r,height:i}=d.options.wrapper.getBoundingClientRect();"h"===d.options.lock&&(e=t),d._tapmove({clientX:o+r*t,clientY:n+i*e})},destroy(){var{options:t,_tapstart:e}=d;r([t.wrapper,t.element],"mousedown",e),r([t.wrapper,t.element],"touchstart",e,{passive:!1})}},{options:u,_tapstart:e,_keyboard:o}=d;return l([u.wrapper,u.element],"mousedown",e),l([u.wrapper,u.element],"touchstart",e,{passive:!1}),l(document,["keydown","keyup"],o),d}function E(o={}){o=Object.assign({onchange:()=>0,className:"",elements:[]},o);const t=l(o.elements,"click",e=>{o.elements.forEach(t=>t.classList[e.target===t?"add":"remove"](o.className)),o.onchange(e)});return{destroy:()=>r(...t)}}function C({el:c,reference:d,padding:u=8}){const p={start:"sme",middle:"mse",end:"ems"},h={top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},m=(n={},(t,e=n[t])=>{var o;return e||([e,o="middle"]=t.split("-"),n[t]={position:e,variant:o,isVertical:"top"===e||"bottom"===e})});var n;return{update(t){const{position:e,variant:o,isVertical:n}=m(t),r=d.getBoundingClientRect(),l=c.getBoundingClientRect(),i=t=>t?{t:r.top-l.height-u,b:r.bottom+u}:{r:r.right+u,l:r.left-l.width-u},s={};function a(t,e,o){const n="top"===o,r=n?l.height:l.width,i=window[n?"innerHeight":"innerWidth"];for(const n of t){const t=e[n],a=s[o]="".concat(t,"px");if(0<t&&t+r<i)return c.style[o]=a,!0}return!1}for(const c of[n,!n]){const d=a(h[e],i(c),c?"top":"left"),u=a(p[o],c?{s:r.left+r.width-l.width,m:-l.width/2+(r.left+r.width/2),e:r.left}:{s:r.bottom-l.height,m:r.bottom-r.height/2-l.height/2,e:r.bottom-r.height},c?"left":"top");if(d&&u)return}c.style.left=s.left,c.style.top=s.top}}}function L(t,e,o){e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o}class A{constructor(e){L(this,"_initializingActive",!0),L(this,"_recalc",!0),L(this,"_color",y()),L(this,"_lastColor",y()),L(this,"_swatchColors",[]),L(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]}),this.options=e=Object.assign({appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},strings:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"},e);var{swatches:t,components:o,theme:n,sliders:r,lockOpacity:i,padding:a}=e,{preview:n,opacity:r,hue:l,palette:s}=(["nano","monolith"].includes(n)&&!r&&(e.sliders="h"),o.interaction||(o.interaction={}),o);o.opacity=!i&&r,o.palette=s||n||r||l,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),t&&t.length&&t.forEach(t=>this.addSwatch(t));const{button:c,app:d}=this._root,u=(this._nanopop=C({reference:c,padding:a,el:d}),c.setAttribute("role","button"),c.setAttribute("aria-label","toggle color picker dialog"),this);requestAnimationFrame(function t(){if(!d.offsetWidth&&d.parentElement!==e.container)return requestAnimationFrame(t);u.setColor(e.default),u._rePositioningPicker(),e.defaultRepresentation&&(u._representation=e.defaultRepresentation,u.setColorRepresentation(u._representation)),e.showAlways&&u.show(),u._initializingActive=!1,u._emit("init")})}_preBuild(){var t=this.options;for(const e of["el","container"])t[e]=h(t[e]);this._root=(({components:t,strings:e,useAsButton:o,inline:n,appClass:r,theme:i,lockOpacity:a})=>{const l=t=>t?"":'style="display:none" hidden',s=u('\n      <div :ref="root" class="pickr">\n\n        '.concat(o?"":'<button type="button" :ref="button" class="pcr-button"></button>','\n\n        <div :ref="app" class="pcr-app ').concat(r||"",'" data-theme="').concat(i,'" ').concat(n?'style="position: unset"':"",' aria-label="color picker dialog" role="window">\n          <div class="pcr-selection" ').concat(l(t.palette),'>\n            <div :obj="preview" class="pcr-color-preview" ').concat(l(t.preview),'>\n              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="use previous color"></button>\n              <div :ref="currentColor" class="pcr-current-color"></div>\n            </div>\n\n            <div :obj="palette" class="pcr-color-palette">\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="color selection area" role="widget"></div>\n            </div>\n\n            <div :obj="hue" class="pcr-color-chooser" ').concat(l(t.hue),'>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="hue selection slider" role="widget"></div>\n            </div>\n\n            <div :obj="opacity" class="pcr-color-opacity" ').concat(l(t.opacity),'>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="opacity selection slider" role="widget"></div>\n            </div>\n          </div>\n\n          <div class="pcr-swatches ').concat(t.palette?"":"pcr-last",'" :ref="swatches"></div> \n\n          <div :obj="interaction" class="pcr-interaction" ').concat(l(Object.keys(t.interaction).length),'>\n            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ').concat(l(t.interaction.input),'>\n\n            <input :arr="options" class="pcr-type" data-type="HEXA" value="').concat(a?"HEX":"HEXA",'" type="button" ').concat(l(t.interaction.hex),'>\n            <input :arr="options" class="pcr-type" data-type="RGBA" value="').concat(a?"RGB":"RGBA",'" type="button" ').concat(l(t.interaction.rgba),'>\n            <input :arr="options" class="pcr-type" data-type="HSLA" value="').concat(a?"HSL":"HSLA",'" type="button" ').concat(l(t.interaction.hsla),'>\n            <input :arr="options" class="pcr-type" data-type="HSVA" value="').concat(a?"HSV":"HSVA",'" type="button" ').concat(l(t.interaction.hsva),'>\n            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ').concat(l(t.interaction.cmyk),'>\n\n            <input :ref="save" class="pcr-save" value="').concat(e.save||"Save",'" type="button" ').concat(l(t.interaction.save),' aria-label="save and exit">\n            <input :ref="cancel" class="pcr-cancel" value="').concat(e.cancel||"Cancel",'" type="button" ').concat(l(t.interaction.cancel),' aria-label="cancel and exit">\n            <input :ref="clear" class="pcr-clear" value="').concat(e.clear||"Clear",'" type="button" ').concat(l(t.interaction.clear),' aria-label="clear and exit">\n          </div>\n        </div>\n      </div>\n    ')),c=s.interaction;return c.options.find(t=>!t.hidden&&!t.classList.add("active")),c.type=()=>c.options.find(t=>t.classList.contains("active")),s})(t),t.useAsButton&&(this._root.button=t.el),t.container.appendChild(this._root.root)}_finalBuild(){var t,e=this.options,o=this._root;e.container.removeChild(o.root),e.inline?(t=e.el.parentElement,e.el.nextSibling?t.insertBefore(o.app,e.el.nextSibling):t.appendChild(o.app)):e.container.appendChild(o.app),e.useAsButton?e.inline&&e.el.remove():e.el.parentNode.replaceChild(o.root,e.el),e.disabled&&this.disable(),e.comparison||(o.button.style.transition="none",e.useAsButton)||(o.preview.lastColor.style.transition="none"),this.hide()}_buildComponents(){const a=this,l=this.options.components,t=(a.options.sliders||"v").repeat(2),[e,o]=t.match(/^[vh]+$/g)?t:[],s=()=>this._color||(this._color=this._lastColor.clone()),n={palette:S({element:a._root.palette.picker,wrapper:a._root.palette.palette,onstop:()=>a._emit("changestop",a),onchange(t,e){if(l.palette){var o=s(),{_root:n,options:r}=a,t=(a._recalc&&(o.s=100*t,o.v=100-100*e,o.v<0&&(o.v=0),a._updateOutput()),o.toRGBA().toString(0)),i=(this.element.style.background=t,this.wrapper.style.background="\n                        linear-gradient(to top, rgba(0, 0, 0, ".concat(o.a,"), transparent),\n                        linear-gradient(to left, hsla(").concat(o.h,", 100%, 50%, ").concat(o.a,"), rgba(255, 255, 255, ").concat(o.a,"))\n                    "),r.comparison?r.useAsButton||a._lastColor||(n.preview.lastColor.style.color=t):n.button.style.color=t,o.toHEXA().toString());for(const l of a._swatchColors){const{el:a,color:t}=l;a.classList[i===t.toHEXA().toString()?"add":"remove"]("pcr-active")}n.preview.currentColor.style.color=t,a.options.comparison||n.button.classList.remove("clear")}}}),hue:S({lock:"v"===o?"h":"v",element:a._root.hue.picker,wrapper:a._root.hue.slider,onstop:()=>a._emit("changestop",a),onchange(t){var e;l.hue&&l.palette&&(e=s(),a._recalc&&(e.h=360*t),this.element.style.backgroundColor="hsl(".concat(e.h,", 100%, 50%)"),n.palette.trigger())}}),opacity:S({lock:"v"===e?"h":"v",element:a._root.opacity.picker,wrapper:a._root.opacity.slider,onstop:()=>a._emit("changestop",a),onchange(t){var e;l.opacity&&l.palette&&(e=s(),a._recalc&&(e.a=Math.round(100*t)/100),this.element.style.background="rgba(0, 0, 0, ".concat(e.a,")"),n.palette.trigger())}}),selectable:E({elements:a._root.interaction.options,className:"active",onchange(t){a._representation=t.target.getAttribute("data-type").toUpperCase(),a._recalc&&a._updateOutput()}})};this._components=n}_bindEvents(){const{_root:e,options:i}=this,t=[l(e.interaction.clear,"click",()=>this._clearColor()),l([e.interaction.cancel,e.preview.lastColor],"click",()=>{this._emit("cancel",this),this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0)}),l(e.interaction.save,"click",()=>{this.applyColor()||i.showAlways||this.hide()}),l(e.interaction.result,["keyup","input"],t=>{this.setColor(t.target.value,!0)&&!this._initializingActive&&this._emit("change",this._color),t.stopImmediatePropagation()}),l(e.interaction.result,["focus","blur"],t=>{this._recalc="blur"===t.type,this._recalc&&this._updateOutput()}),l([e.palette.palette,e.palette.picker,e.hue.slider,e.hue.picker,e.opacity.slider,e.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0)];if(!i.showAlways){const o=i.closeWithKey;t.push(l(e.button,"click",()=>this.isOpen()?this.hide():this.show()),l(document,"keyup",t=>this.isOpen()&&(t.key===o||t.code===o)&&this.hide()),l(document,["touchstart","mousedown"],t=>{this.isOpen()&&!p(t).some(t=>t===e.app||t===e.button)&&this.hide()},{capture:!0}))}if(i.adjustableNumbers){const i={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};m(e.interaction.result,(t,e,o)=>{var n=i[this.getColorRepresentation().toLowerCase()];if(n){const i=n[o],r=t+(100<=i?1e3*e:e);return r<=0?0:Number((r<i?r:i).toPrecision(3))}return t})}if(i.autoReposition&&!i.inline){let e=null;const n=this;t.push(l(window,["scroll","resize"],()=>{n.isOpen()&&(i.closeOnScroll&&n.hide(),null===e?(e=setTimeout(()=>e=null,100),requestAnimationFrame(function t(){n._rePositioningPicker(),null!==e&&requestAnimationFrame(t)})):(clearTimeout(e),e=setTimeout(()=>e=null,100)))},{capture:!0}))}this._eventBindings=t}_rePositioningPicker(){var t,e=this["options"];e.inline||(t=this._root["app"],matchMedia("(max-width: 576px)").matches?Object.assign(t.style,{margin:"auto",height:"".concat(t.getBoundingClientRect().height,"px"),top:0,bottom:0,left:0,right:0}):(Object.assign(t.style,{margin:null,right:null,top:null,bottom:null,left:null,height:null}),this._nanopop.update(e.position)))}_updateOutput(){var t,{_root:e,_color:o,options:n}=this;e.interaction.type()&&(t="to".concat(e.interaction.type().getAttribute("data-type")),e.interaction.result.value="function"==typeof o[t]?o[t]().toString(n.outputPrecision):""),!this._initializingActive&&this._recalc&&this._emit("change",o)}_clearColor(t=!1){var{_root:e,options:o}=this;o.useAsButton||(e.button.style.color="rgba(0, 0, 0, 0.15)"),e.button.classList.add("clear"),o.showAlways||this.hide(),this._lastColor=null,this._initializingActive||t||(this._emit("save",null),this._emit("clear",this))}_parseLocalColor(t){var{values:t,type:e,a:o}=function(t){var e,o,n,r,i;t=t.match(/^[a-zA-Z]+$/)?"black"===(e=t).toLowerCase()?"#000":((o=document.createElement("canvas").getContext("2d")).fillStyle=e,"#000"===o.fillStyle?null:o.fillStyle):t;const a={cmyk:/^cmyk[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)/i,rgba:/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsla:/^((hsla)|hsl)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsva:/^((hsva)|hsv)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},l=t=>t.map(t=>/^(|\d+)\.\d+|\d+$/.test(t)?Number(t):void 0);let s;t:for(const u in a)if(s=a[u].exec(t)){var c=t=>!!s[2]==("number"==typeof t);switch(u){case"cmyk":{const[,t,a,p,h]=l(s);if(100<t||100<a||100<p||100<h)break t;return{values:(d=t,n=a,r=p,i=h,n/=100,r/=100,[...w(255*(1-b(1,(d/=100)*(1-(i/=100))+i)),255*(1-b(1,n*(1-i)+i)),255*(1-b(1,r*(1-i)+i)))]),type:u}}case"rgba":{const[,,,t,a,m,v]=l(s);if(255<t||255<a||255<m||v<0||1<v||!c(v))break t;return{values:[...w(t,a,m),v],a:v,type:u}}case"hexa":{let[,t]=s;const a=(t=4!==t.length&&3!==t.length?t:t.split("").map(t=>t+t).join("")).substring(0,6);var d=(d=t.substring(6))?parseInt(d,16)/255:void 0;return{values:[...w(...a.match(/.{2}/g).map(t=>parseInt(t,16))),d],a:d,type:u}}case"hsla":{const[,,,t,a,f,g]=l(s);if(360<t||100<a||100<f||g<0||1<g||!c(g))break t;return{values:[...(n=t,r=a,i=f,[n,2*(r=r/100*((i/=100)<.5?i:1-i))/(i+r)*100,100*(i+r)]),g],a:g,type:u}}case"hsva":{const[,,,t,a,_,y]=l(s);if(360<t||100<a||100<_||y<0||1<y||!c(y))break t;return{values:[t,a,_,y],a:y,type:u}}}}return{values:null,type:null}}(t),n=this.options["lockOpacity"],o=void 0!==o&&1!==o;return t&&3===t.length&&(t[3]=void 0),{values:!t||n&&o?null:t,type:e}}_emit(t,...e){this._eventListener[t].forEach(t=>t(...e,this))}on(t,e){return"function"==typeof e&&"string"==typeof t&&t in this._eventListener&&this._eventListener[t].push(e),this}off(t,e){var o=this._eventListener[t];if(o){const t=o.indexOf(e);~t&&o.splice(t,1)}return this}addSwatch(t){var e=this._parseLocalColor(t)["values"];if(e){const{_swatchColors:t,_root:o}=this,n=y(...e),r=c('<button type="button" style="color: '.concat(n.toRGBA().toString(0),'" aria-label="color swatch"/>'));return o.swatches.appendChild(r),t.push({el:r,color:n}),this._eventBindings.push(l(r,"click",()=>{this.setHSVA(...n.toHSVA(),!0),this._emit("swatchselect",n),this._emit("change",n)})),!0}return!1}removeSwatch(t){var e=this._swatchColors[t];return!!e&&(e=e["el"],this._root.swatches.removeChild(e),this._swatchColors.splice(t,1),!0)}applyColor(t=!1){var{preview:e,button:o}=this._root,n=this._color.toRGBA().toString(0);return e.lastColor.style.color=n,this.options.useAsButton||(o.style.color=n),o.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||t||this._emit("save",this._color),this}destroy(){this._eventBindings.forEach(t=>r(...t)),Object.keys(this._components).forEach(t=>this._components[t].destroy())}destroyAndRemove(){this.destroy();var{root:t,app:e}=this._root;t.parentElement&&t.parentElement.removeChild(t),e.parentElement.removeChild(e),Object.keys(this).forEach(t=>this[t]=null)}hide(){return this._root.app.classList.remove("visible"),this._emit("hide",this),this}show(){return this.options.disabled||(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this)),this}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(t=360,e=0,o=0,n=1,r=!1){var i=this._recalc;if(this._recalc=!1,t<0||360<t||e<0||100<e||o<0||100<o||n<0||1<n)return!1;this._color=y(t,e,o,n);var{hue:a,opacity:l,palette:s}=this._components;return a.update(t/360),l.update(n),s.update(e/100,1-o/100),r||this.applyColor(),i&&this._updateOutput(),this._recalc=i,!0}setColor(e,t=!1){if(null===e)return this._clearColor(t),!0;var{values:o,type:n}=this._parseLocalColor(e);if(o){const e=n.toUpperCase(),r=this._root.interaction["options"],i=r.find(t=>t.getAttribute("data-type")===e);if(i&&!i.hidden)for(const e of r)e.classList[e===i?"add":"remove"]("active");return this.setColorRepresentation(e),this.setHSVA(...o,t)}return!1}setColorRepresentation(e){return e=e.toUpperCase(),!!this._root.interaction.options.find(t=>t.getAttribute("data-type").startsWith(e)&&!t.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}}A.utils=n,A.libs={HSVaColor:y,Moveable:S,Nanopop:C,Selectable:E},A.create=t=>new A(t),A.version=o.a,e.default=A}],i={},r.m=n,r.c=i,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1).default)},function(t,e,o){},function(t,e,o){"use strict";o.r(e),o(1);var n=o(0),r=o.n(n),s=t=>{t=t.touches&&t.touches[0]||t;return{tap:t,x:t.clientX,y:t.clientY,target:t.target}};let c=document.createElement("p");function*d(t,e,o=-1){for(var n;n=e.exec(t);)yield~o?n[o].trim():n.map(t=>t.trim())}function u(t){var e="rgba(0, 0, 0, 0)";if(t===(c.style.color=e))return t;c.style.color=t;t=getComputedStyle(c).color;return t===e?null:t}function i(e){if(t=e,c.style.backgroundImage=t,!(e=getComputedStyle(c).backgroundImage))return null;var t;const[,n,o]=e.match(/^(\w+)-gradient\((.*)\)$/i)||[];if(!n||!o)return null;var r=[...d(o,/(rgba?\(.*?\)|#?\w+)(.*?)(?=,|$)/gi)],i=[];let a=null,l=null;for(let t=0;t<r.length;t++){const[n,o,c]=r[t],d=u(o),s=c.split(/\s+/g).map(t=>{return e=/^-?(\d*(\.\d+)?)%$/,o=1,(t=(t=t).match(e))?~o?t[o]:t:null;var e,o}).filter(Boolean).map(Number);if(!s.length&&d)i.push({loc:null,color:d});else if(s.length)for(const e of s)i.push({loc:e,color:d||l});else a=a||n;l=d||l}i[i.length-1].loc||(i[i.length-1].loc=100);for(let o=0;o<i.length;o++){const n=i[o];if(!n.loc)if(o){let t=2,e=o+1;for(;e<i.length&&!i[e].loc;e++)t++;n.loc=i[o-1].loc+(i[e].loc-i[o-1].loc)/t}else n.loc=0}return{str:e,type:n,modifier:a,stops:i}}var a=function(t){t=t.trim().toLowerCase().match(/^(-?\d*(\.\d+)?)(deg|rad|grad|turn)$/i);if(t){var e=Number(t[1]);switch(t[3]){case"deg":return e;case"rad":return 180/Math.PI*e;case"grad":return e/400*360;case"turn":return 360*e}}return null};function l(t,e,o){e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o}const p=r.a["utils"],{on:h,off:m}=p;class v{constructor(o){l(this,"_stops",[]),l(this,"_angle",0),l(this,"_angles",[{angle:0,name:"to top"},{angle:90,name:"to right"},{angle:180,name:"to bottom"},{angle:270,name:"to left"}]),l(this,"_direction","circle at center"),l(this,"_directions",[{pos:"tl",css:"circle at left top"},{pos:"tm",css:"circle at center top"},{pos:"tr",css:"circle at right top"},{pos:"r",css:"circle at right"},{pos:"m",css:"circle at center"},{pos:"l",css:"circle at left"},{pos:"br",css:"circle at right bottom"},{pos:"bm",css:"circle at center bottom"},{pos:"bl",css:"circle at left bottom"}]),l(this,"_focusedStop",null),l(this,"_mode","linear"),l(this,"_modes",["linear","radial"]),l(this,"_root",null),l(this,"_eventListener",{init:[],change:[]}),o=Object.assign({stops:[["#42445a",0],["#20b6dd",1]]},o),this._root=n.utils.createFromTemplate(`
<div class="gpickr" :ref="root">

    <div :ref="pickr"></div>
    <div :obj="gradient" class="gpcr-interaction">
    <div :ref="result" class="gpcr-result">
        
         <div :ref="mode" data-mode="linear" class="gpcr-mode"></div>

            <div :ref="angle" class="gpcr-angle">
                <div :ref="arrow"></div>
            </div>

            <div :ref="pos" class="gpcr-pos">
                ${["tl","tm","tr","l","m","r","bl","bm","br"].map(t=>`<div data-pos="${t}"></div>`).join("")}
            </div>
        </div>

        <div :obj="stops" class="gpcr-stops">
            <div :ref="preview" class="gpcr-stop-preview"></div>
            <div :ref="markers" class="gpcr-stop-marker"></div>
        </div>
       
    </div>

</div>
`),CSS.supports("background-image","conic-gradient(#fff, #fff)")&&this._modes.push("conic"),o.el=o.el.split(/>>/g).reduce((t,e,o,n)=>(t=t.querySelector(e),o<n.length-1?t.shadowRoot:t),document),o.el.parentElement.replaceChild(this._root.root,o.el),this._pickr=r.a.create({el:this._root.pickr,theme:"nano",inline:!0,useAsButton:!0,showAlways:!0,defaultRepresentation:"HEXA",components:{palette:!0,preview:!0,opacity:!0,hue:!0,interaction:{input:!0}}}).on("change",t=>{this._focusedStop&&(this._focusedStop.color=t.toRGBA().toString(0),this._render())}).on("init",()=>{for(var[t,e]of o.stops)this.addStop(t,e,!0);this._bindEvents(),this._emit("init",this)})}_bindEvents(){const i=this._root["gradient"];h(i.mode,["mousedown","touchstart"],t=>{var e=this._modes.indexOf(this._mode)+1;this._mode=this._modes[e===this._modes.length?0:e],this._render(!0),t.stopPropagation()}),h(i.stops.preview,"click",t=>{this.addStop(this._pickr.getColor().toRGBA().toString(),this._resolveColorStopPosition(t.pageX))}),h(i.result,["mousedown","touchstart"],t=>{if(t.preventDefault(),"linear"===this._mode){i.angle.classList.add("gpcr-active");const e=h(window,["mousemove","touchmove"],t=>{var{x:e,y:o}=s(t),n=i.angle.getBoundingClientRect(),r=n.left+n.width/2,n=n.top+n.height/2,e=Math.atan2(e-r,o-n)-Math.PI,r=Math.abs(180*e/Math.PI),o=[1,2,4][Number(t.shiftKey||2*t.ctrlKey)];this.setLinearAngle(r-r%(45/o))}),o=h(window,["mouseup","touchend","touchcancel"],()=>{i.angle.classList.remove("gpcr-active"),m(...e),m(...o)})}}),h(i.pos,["mousedown","touchstart"],t=>{const e=t.target.getAttribute("data-pos"),o=this._directions.find(t=>t.pos===e);this.setRadialPosition(o&&o.css||this._direction)})}_render(t=!1){const{stops:{preview:e},result:o,arrow:n,angle:r,pos:i,mode:a}=this._root.gradient,{_stops:l,_mode:s,_angle:c}=this;l.sort((t,e)=>t.loc-e.loc);for(const{color:t,el:e,loc:o}of l)Object.assign(e.style,{left:100*o+"%",color:t});n.style.transform=`rotate(${c-90}deg)`,e.style.background=`linear-gradient(to right, ${this.getStops().toString("linear")})`,o.style.background=this.getGradient().toString(),i.style.opacity="radial"===s?"":"0",i.style.visibility="radial"===s?"":"hidden",r.style.opacity="linear"===s?"":"0",r.style.visibility="linear"===s?"":"hidden",a.setAttribute("data-mode",s),t||this._emit("change",this)}_resolveColorStopPosition(t){var e=this._root.gradient.stops["markers"],e=e.getBoundingClientRect();let o=(t-e.left)/e.width;return o=1<(o=o<0?0:o)?1:o}addStop(t,e=.5,o=!1){const i=this._root.gradient.stops["markers"],a=p.createElementFromString('<div class="gpcr-marker"></div>'),l=(i.appendChild(a),this._pickr.setColor(t),t=this._pickr.getColor().toRGBA().toString(0),{el:a,loc:e,color:t,listener:h(a,["mousedown","touchstart"],t=>{t.preventDefault();const o=i.getBoundingClientRect();this._pickr.setColor(l.color),this._focusedStop=l;let n=!1;const e=h(window,["mousemove","touchmove"],t=>{var{x:t,y:e}=s(t),e=Math.abs(e-o.y);n=50<e&&2<this._stops.length,a.style.opacity=n?"0":"1",n||(l.loc=this._resolveColorStopPosition(t),this._render())}),r=h(window,["mouseup","touchend","touchcancel"],()=>{m(...e),m(...r),n&&(this.removeStop(l),this._render(!0))})})});return this._focusedStop=l,this._stops.push(l),this._render(o),this}removeStop(t){const e=this["_stops"],o="number"==typeof t?e.find(t=>t.loc===t):"string"==typeof t?e.find(t=>t.color===t):"object"==typeof t?t:void 0;e.splice(e.indexOf(o),1),o.el.remove(),m(...o.listener),this._focusedStop===o&&(this._focusedStop=e[0]),this._render()}setGradient(t){t=(t=>{document.body.appendChild(c);t=i(t);return document.body.removeChild(c),t})(t);if(t&&!(t.stops.length<2)){var{type:t,stops:e,modifier:o}=t,n=[...this._stops];if(this._modes.includes(t)){this._mode=t;for(const t of e)this.addStop(t.color,t.loc/100);for(const t of n)this.removeStop(t);return"linear"===t?(this._angle=180,o&&this.setLinearAngle(o)):"radial"===t&&(this._direction="circle at center",o)&&this.setRadialPosition(o),!0}}return!1}getGradient(t=this._mode){var e=this.getStops().toString(t);switch(t){case"linear":return`linear-gradient(${this._angle}deg, ${e})`;case"radial":return`radial-gradient(${this._direction}, ${e})`;case"conic":return`conic-gradient(${e})`}}getStops(){const t=this._stops.map(t=>({color:t.color,location:t.loc})),e=this._mode;return t.toString=function(t=e){switch(t){case"linear":case"radial":return this.map(t=>`${t.color} ${100*t.location}%`).join(",");case"conic":return this.map(t=>`${t.color} ${360*t.location}deg`).join(",")}},t}getLinearAngle(){return"linear"===this._mode?this._angle:-1}setLinearAngle(e){return"number"==typeof(e="number"==typeof e?e:a(e)||(this._angles.find(t=>t.name===e)||{}).angle)&&(this._angle=e,this._render(),!0)}setRadialPosition(e){var t=this._directions.find(t=>t.css===e);if(!t)return!1;this._direction=t.css;for(const e of Array.from(this._root.gradient.pos.children))e.classList[e.getAttribute("data-pos")===t.pos?"add":"remove"]("gpcr-active");return this._render(),!0}getRadialPosition(){return"radial"===this._mode?this._direction:null}_emit(t,...e){this._eventListener[t].forEach(t=>t(...e,this))}on(t,e){return"function"==typeof e&&"string"==typeof t&&t in this._eventListener&&this._eventListener[t].push(e),this}off(t,e){var o=this._eventListener[t];if(o){const t=o.indexOf(e);~t&&o.splice(t,1)}return this}}v.Pickr=r.a,e.default=v}],n={},r.m=o,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="dist",r(r.s=2).default;function r(t){var e;return(n[t]||(e=n[t]={i:t,l:!1,exports:{}},o[t].call(e.exports,e,e.exports,r),e.l=!0,e)).exports}var o,n},t.exports=n()},610:function(t,e,o){"use strict";o.r(e),o.d(e,"strokeWidth",function(){return r}),o.d(e,"setInitialStrokeWith",function(){return a}),o.d(e,"Stroke",function(){return l});function n(t){t.stopPropagation(),t.preventDefault(),"range"==(t=t.currentTarget).type?r(parseFloat(t.value),!1,!0):(+t.value>+t.max&&(t.value=t.max),+t.value<+t.min&&(t.value=t.min),r(parseFloat(t.value),!0,!1)),document.getElementById("save_into_active").disabled=!1}var i=o(409),r=function(e,t,o,n){void 0===n&&(n=!1);var r=i.Editor.draw.find("g *");r&&r.forEach(function(t){"0"!==t.node.style.strokeWidth&&(t.node.style.strokeWidth=e.toString(),t.stroke({width:e}))}),t&&(document.querySelector('.detail__editor__stroke input[type="range"]').value=e.toString()),o&&(document.querySelector('.detail__editor__stroke input[type="number"]').value=e.toString()),i.Editor.history&&!n&&i.Editor.history.push({type:"strokeWidth",data:e}),document.getElementById("save_into_active").disabled=!1},a=function(){var t=document.querySelector('.detail__editor__stroke input[name="initial-width"]').value;t&&r(Number(t),!0,!0,!0)},l={handleEventStroke:function(){var t,e,o=document.querySelectorAll('.detail__editor__stroke input[type="range"], .detail__editor__stroke input[type="number"] ');0===i.Editor.draw.find("g *").filter(function(t){return 0!==t.attr("stroke-width")}).length?null!=(e=document.getElementById("option_edit__stroke"))&&e.classList.add("hidden"):(t=i.Editor.draw.find("g *").filter(function(t){return 0!==t.attr("stroke-width")})[0].attr("stroke-width"),(e=document.querySelector('.detail__editor__stroke input[name="initial-width"]'))&&(e.value=t),o.forEach(function(r){"range"==r.type?(null!=r&&r.removeEventListener("input",n),null!=r&&r.addEventListener("input",n)):(null!=r&&r.removeEventListener("change",n),null!=r&&r.addEventListener("change",n),r.addEventListener("keypress",function(t){var e,o=t.currentTarget,n=r.max.length;"Enter"!=t.key&&!(""+(null==o?void 0:o.value)+t.key).match(/^[0-9]{0,2}$/)&&0==(null==(e=window.getSelection())?void 0:e.toString().length)&&n<=o.value.length&&(t.preventDefault(),t.stopPropagation())})),r.value=t,r.setAttribute("max",(2*t).toString())}))}}}}]);
//# sourceMappingURL=2.c52841b39288ac3d939f.js.map